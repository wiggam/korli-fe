@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	html {
		scrollbar-gutter: stable;
		/* Prevent scrolling on html */
		overflow: hidden;
		height: 100%;
		/* Use dynamic viewport height for mobile */
		height: 100dvh;
	}

	body {
		/* Prevent scrolling on body */
		overflow: hidden;
		height: 100%;
		height: 100dvh;
		/* Prevent pull-to-refresh on mobile */
		overscroll-behavior: none;
		/* Prevent text selection causing scroll issues */
		-webkit-overflow-scrolling: touch;
	}

	#root {
		height: 100%;
		height: 100dvh;
		overflow: hidden;
	}
}

:root {
	font-family: 'Inter', 'SF Pro Display', system-ui, -apple-system,
		BlinkMacSystemFont, 'Segoe UI', sans-serif;

	/* Base light background (similar to slate-50/100) */
	color: #0a0d14;

	/* CSS custom property for page background - defaults to light mode */
	--page-background: #f8fafc;

	font-synthesis: none;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Let body control the page background in BOTH modes */
body {
	margin: 0;

	/* Text stays dark in both modes â€“ we're doing a "dim" theme, not full dark */
	color: #0f172a; /* slate-900-ish */

	/* Use CSS custom property for background - updated dynamically by theme */
	background-color: var(--page-background);
}

/* Limit dropdown height and style scrollbar */
select[size='1'] {
	max-height: 250px;
}

select option {
	padding: 8px;
}

/* Styled scrollbar for select dropdowns */
select::-webkit-scrollbar {
	width: 8px;
}

select::-webkit-scrollbar-track {
	background: #f1f5f9;
	border-radius: 4px;
}

.dark select::-webkit-scrollbar-track {
	background: #64748b; /* slate-500 - matches body background */
}

select::-webkit-scrollbar-thumb {
	background: #cbd5e1;
	border-radius: 4px;
}

.dark select::-webkit-scrollbar-thumb {
	background: #94a3b8;
}

select::-webkit-scrollbar-thumb:hover {
	background: #94a3b8;
}

.dark select::-webkit-scrollbar-thumb:hover {
	background: #64748b;
}

/* Mobile-only safe area padding for chat container */
@media (max-width: 767px) {
	.chat-container-mobile {
		padding-bottom: max(
			calc(env(safe-area-inset-bottom) + 3rem),
			3rem
		) !important;
	}

	/* Mobile-only icon scaling - 20% larger */
	.mobile-icon-sm {
		height: 1.0625rem !important; /* 17px instead of 14px */
		width: 1.0625rem !important;
	}

	.mobile-icon-md {
		height: 1.25rem !important; /* 20px instead of 16px */
		width: 1.25rem !important;
	}

	.mobile-icon-lg {
		height: 1.5rem !important; /* 24px instead of 20px */
		width: 1.5rem !important;
	}

	/* Mobile-only icon spacing - minimal gap */
	.mobile-icon-spacing {
		gap: 0.105rem !important; /* 2px - tight spacing */
	}

	/* Mobile-only text scaling - 20% larger */
	.mobile-text-xs {
		font-size: 0.875rem !important; /* 14px instead of 12px */
		line-height: 1.5rem !important;
	}

	.mobile-text-sm {
		font-size: 1.05rem !important; /* ~17px instead of 14px */
		line-height: 1.65rem !important;
	}

	.mobile-text-base {
		font-size: 1.2rem !important; /* ~19px instead of 16px */
		line-height: 1.8rem !important;
	}

	/* Mobile-only header logo scaling */
	.mobile-header-logo {
		height: 1.8rem !important; /* ~29px instead of 24px */
	}

	/* Mobile-only button/pill height scaling */
	.mobile-btn-sm {
		height: 1.875rem !important; /* 30px instead of 24px */
		padding-left: 0.75rem !important;
		padding-right: 0.75rem !important;
	}

	.mobile-btn-md {
		height: 2.25rem !important; /* 36px instead of 28-32px */
		padding-left: 1rem !important;
		padding-right: 1rem !important;
	}

	/* Mobile-only input icon sizes */
	.mobile-input-icon {
		height: 2.25rem !important; /* 36px instead of 28px */
		width: 2.25rem !important;
	}

	/* Mobile-only header padding - reduced */
	.mobile-header-padding {
		padding-top: 0.375rem !important; /* 6px instead of 8px */
		padding-bottom: 0.375rem !important; /* 6px instead of 8px */
	}

	/* Mobile-only main margin-top - reduced to match smaller header */
	.mobile-main-margin {
		margin-top: 3rem !important; /* 48px instead of 56px */
	}
}
